!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).markdownitTocDoneRight=e()}}(function(){return function i(l,c,f){function u(r,e){if(!c[r]){if(!l[r]){var n="function"==typeof require&&require;if(!e&&n)return n(r,!0);if(a)return a(r,!0);var t=new Error("Cannot find module '"+r+"'");throw t.code="MODULE_NOT_FOUND",t}var o=c[r]={exports:{}};l[r][0].call(o.exports,function(e){return u(l[r][1][e]||e)},o,o.exports,i,l,c,f)}return c[r].exports}for(var a="function"==typeof require&&require,e=0;e<f.length;e++)u(f[e]);return u}({1:[function(e,r,n){"use strict";function t(e){return encodeURIComponent(String(e).trim().toLowerCase().replace(/\s+/g,"-"))}function l(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}r.exports=function(e,c){c=Object.assign({},{placeholder:"${toc}",slugify:t,containerClass:"table-of-contents",level:1,listType:"ol",format:void 0},c);var r=void 0;e.renderer.rules.toc_open=function(){return'<nav class="'+l(c.containerClass)+'">'},e.renderer.rules.toc_close=function(){return"</nav>"},e.renderer.rules.toc_body=function(){return function n(t,o){o=o||{};var e=Object.keys(t.c);if(0===e.length)return"";var i="<"+l(c.listType)+">";e.forEach(function(e){var r=t.c[e];i+='<li><a href="#'+function(e){var r=e,n=2;for(;o.hasOwnProperty(r);)r=e+"-"+n++;return o[r]=!0,r}(c.slugify(e))+'">'+("function"==typeof c.format?c.format(e,l):l(e))+"</a>"+n(r,o)+"</li>"});i+="</"+l(c.listType)+">";return i}(function(e){for(var r={l:0,n:"",c:{}},n=[r],t=0,o=e.length;t<o;t++){var i=e[t];if("heading_open"===i.type){var l={l:parseInt(i.tag.substr(1),10),n:e[t+1].children.filter(function(e){return"text"===e.type||"code_inline"===e.type}).reduce(function(e,r){return e+r.content},""),c:{}};if(l.l>=c.level)if(l.l>n[0].l)n[0].c[l.n]=l,n.unshift(l);else if(l.l===n[0].l)n[1].c[l.n]=l,n[0]=l;else{for(;l.l<=n[0].l;)n.shift();n[0].c[l.n]=l,n.unshift(l)}}}return r}(r.tokens))},e.core.ruler.push("final_state",function(e){r=e}),e.block.ruler.before("heading","toc",function(e,r){for(var n=void 0,t=e.bMarks[r]+e.tShift[r],o=e.eMarks[r],i=0,l=c.placeholder.length;i<l;i++)if(e.src.charCodeAt(t+i)!==c.placeholder.charCodeAt(i)||o<=t)return!1;return e.line=r+1,(n=e.push("toc_open","nav",1)).markup=c.placeholder,n.map=[r,e.line],(n=e.push("toc_body","",0)).markup=c.placeholder,n.map=[r,e.line],n.children=[],(n=e.push("toc_close","nav",-1)).markup=c.placeholder,!0},{alt:["paragraph","reference","blockquote"]})}},{}]},{},[1])(1)});
