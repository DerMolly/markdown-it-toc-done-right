!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).markdownitTocDoneRight=e()}}(function(){return function i(c,l,u){function f(n,e){if(!l[n]){if(!c[n]){var r="function"==typeof require&&require;if(!e&&r)return r(n,!0);if(a)return a(n,!0);var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}var o=l[n]={exports:{}};c[n][0].call(o.exports,function(e){return f(c[n][1][e]||e)},o,o.exports,i,c,l,u)}return l[n].exports}for(var a="function"==typeof require&&require,e=0;e<u.length;e++)f(u[e]);return f}({1:[function(e,n,r){"use strict";function t(e){return encodeURIComponent(String(e).trim().toLowerCase().replace(/\s+/g,"-"))}function i(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}n.exports=function(e,f){f=Object.assign({},{placeholder:"${toc}",slugify:t,containerClass:"table-of-contents",listType:"ol",format:void 0},f);var n=void 0;e.renderer.rules.toc_open=function(){return'<nav class="'+i(f.containerClass)+'">'},e.renderer.rules.toc_close=function(){return"</nav>"},e.renderer.rules.toc_body=function(){return function r(t){var e=Object.keys(t.c);if(0===e.length)return"";var o="<"+i(f.listType)+">";e.forEach(function(e){var n=t.c[e];o+='<li><a href="#'+f.slugify(e)+'">'+("function"==typeof f.format?f.format(e):i(e))+"</a>"+r(n)+"</li>"});o+="</"+i(f.listType)+">";return o}(function(e){for(var n={l:0,n:"",c:{}},r=[n],t=0,o=e.length;t<o;t++){var i=e[t];if("heading_open"===i.type){var c={l:parseInt(i.tag.substr(1),10),n:e[t+1].children.filter(function(e){return"text"===e.type||"code_inline"===e.type}).reduce(function(e,n){return e+n.content},""),c:{}};if(c.l>r[0].l)r[0].c[c.n]=c,r.unshift(c);else if(c.l===r[0].l)r[1].c[c.n]=c,r[0]=c;else{for(;c.l<=r[0].l;)r.shift();r[0].c[c.n]=c,r.unshift(c)}}}return n}(n.tokens))},e.core.ruler.push("final_state",function(e){n=e}),e.block.ruler.before("heading","toc",function(e,n,r,t){var o=void 0,i=e.bMarks[n]+e.tShift[n],c=e.eMarks[n];if(4<=e.sCount[n]-e.blkIndent)return!1;for(var l=0,u=f.placeholder.length;l<u;l++)if(e.src.charCodeAt(i+l)!==f.placeholder.charCodeAt(l)||c<=i)return!1;return t||(e.line=n+1,(o=e.push("toc_open","nav",1)).markup=f.placeholder,o.map=[n,e.line],(o=e.push("toc_body","",0)).markup=f.placeholder,o.map=[n,e.line],o.children=[],(o=e.push("toc_close","nav",-1)).markup=f.placeholder),!0},{alt:["paragraph","reference","blockquote"]})}},{}]},{},[1])(1)});
