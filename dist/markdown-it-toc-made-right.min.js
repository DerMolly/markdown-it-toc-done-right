!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).markdownitTocDoneRight=e()}}(function(){return function i(c,l,f){function u(r,e){if(!l[r]){if(!c[r]){var n="function"==typeof require&&require;if(!e&&n)return n(r,!0);if(a)return a(r,!0);var t=new Error("Cannot find module '"+r+"'");throw t.code="MODULE_NOT_FOUND",t}var o=l[r]={exports:{}};c[r][0].call(o.exports,function(e){return u(c[r][1][e]||e)},o,o.exports,i,c,l,f)}return l[r].exports}for(var a="function"==typeof require&&require,e=0;e<f.length;e++)u(f[e]);return u}({1:[function(e,r,n){"use strict";function t(e){return encodeURIComponent(String(e).trim().toLowerCase().replace(/\s+/g,"-"))}function f(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}r.exports=function(e,l){l=Object.assign({},{placeholder:"${toc}",slugify:t,containerClass:"table-of-contents",listType:"ol",format:void 0},l);var r=void 0;e.renderer.rules.toc_open=function(){return'<nav class="'+f(l.containerClass)+'">'},e.renderer.rules.toc_close=function(){return"</nav>"},e.renderer.rules.toc_body=function(){return function t(o,i){i=i||{};var e=Object.keys(o.c);if(0===e.length)return"";var c="<"+f(l.listType)+">";e.forEach(function(e){var r,n=o.c[e];c+='<li><a href="#'+(r=l.slugify(e),i.hasOwnProperty(r)?r+"-"+ ++i[r]:(i[r]=1,r))+'">'+("function"==typeof l.format?l.format(e,f):f(e))+"</a>"+t(n,i)+"</li>"});c+="</"+f(l.listType)+">";return c}(function(e){for(var r={l:0,n:"",c:{}},n=[r],t=0,o=e.length;t<o;t++){var i=e[t];if("heading_open"===i.type){var c={l:parseInt(i.tag.substr(1),10),n:e[t+1].children.filter(function(e){return"text"===e.type||"code_inline"===e.type}).reduce(function(e,r){return e+r.content},""),c:{}};if(c.l>n[0].l)n[0].c[c.n]=c,n.unshift(c);else if(c.l===n[0].l)n[1].c[c.n]=c,n[0]=c;else{for(;c.l<=n[0].l;)n.shift();n[0].c[c.n]=c,n.unshift(c)}}}return r}(r.tokens))},e.core.ruler.push("final_state",function(e){r=e}),e.block.ruler.before("heading","toc",function(e,r){for(var n=void 0,t=e.bMarks[r]+e.tShift[r],o=e.eMarks[r],i=0,c=l.placeholder.length;i<c;i++)if(e.src.charCodeAt(t+i)!==l.placeholder.charCodeAt(i)||o<=t)return!1;return e.line=r+1,(n=e.push("toc_open","nav",1)).markup=l.placeholder,n.map=[r,e.line],(n=e.push("toc_body","",0)).markup=l.placeholder,n.map=[r,e.line],n.children=[],(n=e.push("toc_close","nav",-1)).markup=l.placeholder,!0},{alt:["paragraph","reference","blockquote"]})}},{}]},{},[1])(1)});
